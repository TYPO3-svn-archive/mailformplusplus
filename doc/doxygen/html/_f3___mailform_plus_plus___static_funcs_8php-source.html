<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>MailformPlusPlus: F3_MailformPlusPlus_StaticFuncs.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>F3_MailformPlusPlus_StaticFuncs.php</h1><a href="_f3___mailform_plus_plus___static_funcs_8php.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00002"></a>00002 <span class="comment">/*                                                                        *</span>
<a name="l00003"></a>00003 <span class="comment"> * This script is part of the TYPO3 project - inspiring people to share!  *</span>
<a name="l00004"></a>00004 <span class="comment"> *                                                                        *</span>
<a name="l00005"></a>00005 <span class="comment"> * TYPO3 is free software; you can redistribute it and/or modify it under *</span>
<a name="l00006"></a>00006 <span class="comment"> * the terms of the GNU General Public License version 2 as published by  *</span>
<a name="l00007"></a>00007 <span class="comment"> * the Free Software Foundation.                                          *</span>
<a name="l00008"></a>00008 <span class="comment"> *                                                                        *</span>
<a name="l00009"></a>00009 <span class="comment"> * This script is distributed in the hope that it will be useful, but     *</span>
<a name="l00010"></a>00010 <span class="comment"> * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHAN-    *</span>
<a name="l00011"></a>00011 <span class="comment"> * TABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General      *</span>
<a name="l00012"></a>00012 <span class="comment"> * Public License for more details.                                       *</span>
<a name="l00013"></a>00013 <span class="comment"> *</span>
<a name="l00014"></a>00014 <span class="comment"> * $Id: F3_MailformPlusPlus_StaticFuncs.php 18632 2009-04-02 14:44:22Z reinhardfuehricht $</span>
<a name="l00015"></a>00015 <span class="comment"> *                                                                        */</span>
<a name="l00016"></a>00016 
<a name="l00024"></a><a class="code" href="class_f3___mailform_plus_plus___static_funcs.html">00024</a> <span class="keyword">class </span><a class="code" href="class_f3___mailform_plus_plus___static_funcs.html">F3_MailformPlusPlus_StaticFuncs</a> {
<a name="l00025"></a>00025 
<a name="l00032"></a><a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#28786103de7a8cc36776fd87b177bbff">00032</a>         <span class="keyword">public</span> <span class="keyword">static</span> <a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#28786103de7a8cc36776fd87b177bbff">$cObj</a>;
<a name="l00033"></a>00033         
<a name="l00034"></a><a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#6531417660ac1311366e9c20588b4ae8">00034</a>         <span class="keyword">public</span> <span class="keyword">static</span> <a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#6531417660ac1311366e9c20588b4ae8">$predefined</a>;
<a name="l00035"></a>00035 
<a name="l00041"></a><a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#f4f2df03cd15dbb94c4f475da7ecf7fa">00041</a>         <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#f4f2df03cd15dbb94c4f475da7ecf7fa">getDocumentRoot</a>() {
<a name="l00042"></a>00042                 <span class="keywordflow">return</span> t3lib_div::getIndpEnv(<span class="stringliteral">'TYPO3_DOCUMENT_ROOT'</span>);
<a name="l00043"></a>00043         }
<a name="l00044"></a>00044 
<a name="l00050"></a><a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#69caaf60044745710b7b057a347cfc24">00050</a>         <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#69caaf60044745710b7b057a347cfc24">getTYPO3Root</a>() {
<a name="l00051"></a>00051                 $path = t3lib_div::getIndpEnv(<span class="stringliteral">'SCRIPT_FILENAME'</span>);
<a name="l00052"></a>00052                 $path = str_replace(<span class="stringliteral">"/index.php"</span>,<span class="stringliteral">""</span>,$path);
<a name="l00053"></a>00053                 <span class="keywordflow">return</span> $path;
<a name="l00054"></a>00054         }
<a name="l00055"></a>00055 
<a name="l00056"></a>00056         
<a name="l00062"></a><a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#2861c56ee49fba9b8c08db8829f85793">00062</a>         <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#2861c56ee49fba9b8c08db8829f85793">prepareClassName</a>($className) {
<a name="l00063"></a>00063                 <span class="keywordflow">if</span>(!preg_match(<span class="stringliteral">'/^F3_/'</span>,$className)) {
<a name="l00064"></a>00064                         $className = <span class="stringliteral">'F3_MailformPlusPlus_'</span>.$className;
<a name="l00065"></a>00065                 }
<a name="l00066"></a>00066                 <span class="keywordflow">return</span> $className;
<a name="l00067"></a>00067         }
<a name="l00068"></a>00068 
<a name="l00069"></a>00069         
<a name="l00070"></a>00070 
<a name="l00080"></a><a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#037c2a765183ddfa5864b1f26a2ac283">00080</a>         <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#037c2a765183ddfa5864b1f26a2ac283">substituteMarkerArray</a>($content,$markContentArray) {
<a name="l00081"></a>00081                 <span class="keywordflow">if</span> (is_array($markContentArray))        {
<a name="l00082"></a>00082                         reset($markContentArray);
<a name="l00083"></a>00083                         <span class="keywordflow">while</span>(list($marker,$markContent) = each($markContentArray))     {
<a name="l00084"></a>00084                                 $content = str_replace($marker,$markContent,$content);
<a name="l00085"></a>00085                         }
<a name="l00086"></a>00086                 }
<a name="l00087"></a>00087                 <span class="keywordflow">return</span> $content;
<a name="l00088"></a>00088         }
<a name="l00089"></a>00089 
<a name="l00099"></a><a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#d96839bccce25d0888d19eccde1c9819">00099</a>         <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#d96839bccce25d0888d19eccde1c9819">getSubpart</a>($content,$marker)     {
<a name="l00100"></a>00100                 $start = strpos($content, $marker);
<a name="l00101"></a>00101                 <span class="keywordflow">if</span> ($start===<span class="keyword">false</span>)     { <span class="keywordflow">return</span> <span class="stringliteral">''</span>; }
<a name="l00102"></a>00102                 $start += strlen($marker);
<a name="l00103"></a>00103                 $stop = strpos($content, $marker, $start);
<a name="l00104"></a>00104                 <span class="comment">// Q: What shall get returned if no stop marker is given /*everything till the end*/ or nothing</span>
<a name="l00105"></a>00105                 <span class="keywordflow">if</span> ($stop===<span class="keyword">false</span>)      { <span class="keywordflow">return</span> <span class="comment">/*substr($content, $start)*/</span> <span class="stringliteral">''</span>; }
<a name="l00106"></a>00106                 $content = substr($content, $start, $stop-$start);
<a name="l00107"></a>00107                 $matches = array();
<a name="l00108"></a>00108                 <span class="keywordflow">if</span> (preg_match(<span class="stringliteral">'/^([^&lt;]*\-\-&gt;)(.*)(&lt;\!\-\-[^&gt;]*)$/s'</span>, $content, $matches)===1)  {
<a name="l00109"></a>00109                         <span class="keywordflow">return</span> $matches[2];
<a name="l00110"></a>00110                 }
<a name="l00111"></a>00111                 $matches = array();
<a name="l00112"></a>00112                 <span class="keywordflow">if</span> (preg_match(<span class="stringliteral">'/(.*)(&lt;\!\-\-[^&gt;]*)$/s'</span>, $content, $matches)===1)       {
<a name="l00113"></a>00113                         <span class="keywordflow">return</span> $matches[1];
<a name="l00114"></a>00114                 }
<a name="l00115"></a>00115                 $matches = array();
<a name="l00116"></a>00116                 <span class="keywordflow">if</span> (preg_match(<span class="stringliteral">'/^([^&lt;]*\-\-&gt;)(.*)$/s'</span>, $content, $matches)===1)        {
<a name="l00117"></a>00117                         <span class="keywordflow">return</span> $matches[2];
<a name="l00118"></a>00118                 }
<a name="l00119"></a>00119                 <span class="keywordflow">return</span> $content;
<a name="l00120"></a>00120         }
<a name="l00121"></a>00121 
<a name="l00132"></a><a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#1912f1bcb0797c9df25c830e1fec8439">00132</a>         <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#1912f1bcb0797c9df25c830e1fec8439">pi_getFFvalue</a>($T3FlexForm_array,$fieldName,$sheet=<span class="stringliteral">'sDEF'</span>,<a class="code" href="test_8php.html#7714b111b644017933931ec69a154102">$lang</a>=<span class="stringliteral">'lDEF'</span>,$value=<span class="stringliteral">'vDEF'</span>)     {
<a name="l00133"></a>00133                 $sheetArray = is_array($T3FlexForm_array) ? $T3FlexForm_array[<span class="stringliteral">'data'</span>][$sheet][<a class="code" href="test_8php.html#7714b111b644017933931ec69a154102">$lang</a>] : <span class="stringliteral">''</span>;
<a name="l00134"></a>00134                 <span class="keywordflow">if</span> (is_array($sheetArray))      {
<a name="l00135"></a>00135                         <span class="keywordflow">return</span> <a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#353b3c110b55e8b48187f283b2bb82e1">F3_MailformPlusPlus_StaticFuncs::pi_getFFvalueFromSheetArray</a>($sheetArray,explode(<span class="charliteral">'/'</span>,$fieldName),$value);
<a name="l00136"></a>00136                 }
<a name="l00137"></a>00137         }
<a name="l00138"></a>00138 
<a name="l00149"></a><a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#353b3c110b55e8b48187f283b2bb82e1">00149</a>         <span class="keyword">private</span> <span class="keyword">static</span> function <a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#353b3c110b55e8b48187f283b2bb82e1">pi_getFFvalueFromSheetArray</a>($sheetArray,$fieldNameArr,$value)   {
<a name="l00150"></a>00150 
<a name="l00151"></a>00151                 $tempArr=$sheetArray;
<a name="l00152"></a>00152                 <span class="keywordflow">foreach</span>($fieldNameArr as $k =&gt; $v)      {
<a name="l00153"></a>00153                         <span class="keywordflow">if</span> (t3lib_div::testInt($v))     {
<a name="l00154"></a>00154                                 <span class="keywordflow">if</span> (is_array($tempArr)) {
<a name="l00155"></a>00155                                         $c=0;
<a name="l00156"></a>00156                                         <span class="keywordflow">foreach</span>($tempArr as $values)    {
<a name="l00157"></a>00157                                                 <span class="keywordflow">if</span> ($c==$v)     {
<a name="l00158"></a>00158 <span class="preprocessor">                                                        #debug($values);</span>
<a name="l00159"></a>00159 <span class="preprocessor"></span>                                                        $tempArr=$values;
<a name="l00160"></a>00160                                                         <span class="keywordflow">break</span>;
<a name="l00161"></a>00161                                                 }
<a name="l00162"></a>00162                                                 $c++;
<a name="l00163"></a>00163                                         }
<a name="l00164"></a>00164                                 }
<a name="l00165"></a>00165                         } <span class="keywordflow">else</span> {
<a name="l00166"></a>00166                                 $tempArr = $tempArr[$v];
<a name="l00167"></a>00167                         }
<a name="l00168"></a>00168                 }
<a name="l00169"></a>00169                 <span class="keywordflow">return</span> $tempArr[$value];
<a name="l00170"></a>00170         }
<a name="l00171"></a>00171 
<a name="l00180"></a><a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#43c6a8258b7385035565677ea085ed62">00180</a>         <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#43c6a8258b7385035565677ea085ed62">dateToTimestamp</a>($date,$end = <span class="keyword">false</span>) {
<a name="l00181"></a>00181                 $dateArr = explode(<span class="stringliteral">"."</span>,$date);
<a name="l00182"></a>00182                 <span class="keywordflow">if</span>($end) {
<a name="l00183"></a>00183                         <span class="keywordflow">return</span> mktime(23,59,59,$dateArr[1],$dateArr[0],$dateArr[2]);
<a name="l00184"></a>00184                 }
<a name="l00185"></a>00185                 <span class="keywordflow">return</span> mktime(0,0,0,$dateArr[1],$dateArr[0],$dateArr[2]);
<a name="l00186"></a>00186         }
<a name="l00187"></a>00187 
<a name="l00193"></a><a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#0d0a4d6d790bbb07debc2b5b3ed3cba6">00193</a>         <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#0d0a4d6d790bbb07debc2b5b3ed3cba6">getHostname</a>() {
<a name="l00194"></a>00194                 <span class="keywordflow">return</span> t3lib_div::getIndpEnv(<span class="stringliteral">'TYPO3_SITE_URL'</span>);
<a name="l00195"></a>00195         }
<a name="l00196"></a>00196 
<a name="l00209"></a><a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#4bcc0e692c2e269b3c8ea9413a3a3c59">00209</a>         <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#4bcc0e692c2e269b3c8ea9413a3a3c59">sanitizePath</a>($path) {
<a name="l00210"></a>00210                 <span class="keywordflow">if</span>(substr($path,0,1) != <span class="stringliteral">"/"</span>) {
<a name="l00211"></a>00211                         $path = <span class="stringliteral">"/"</span>.$path;
<a name="l00212"></a>00212                 }
<a name="l00213"></a>00213                 <span class="keywordflow">if</span>(substr($path,strlen($path)-1) != <span class="stringliteral">"/"</span> &amp;&amp; !strstr($path,<span class="stringliteral">"."</span>)) {
<a name="l00214"></a>00214                         $path = $path.<span class="stringliteral">"/"</span>;
<a name="l00215"></a>00215                 }
<a name="l00216"></a>00216                 <span class="keywordflow">return</span> $path;
<a name="l00217"></a>00217         }
<a name="l00218"></a>00218 
<a name="l00232"></a><a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#b8b9045321cea59719215dfb68b0b597">00232</a>         <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#b8b9045321cea59719215dfb68b0b597">convertToRelativePath</a>($absPath) {
<a name="l00233"></a>00233 
<a name="l00234"></a>00234                 <span class="comment">//C:/xampp/htdocs/typo3/index.php</span>
<a name="l00235"></a>00235                 $scriptPath =  t3lib_div::getIndpEnv(<span class="stringliteral">'SCRIPT_FILENAME'</span>);
<a name="l00236"></a>00236 
<a name="l00237"></a>00237                 <span class="comment">//C:/xampp/htdocs/typo3/</span>
<a name="l00238"></a>00238                 $rootPath = str_replace(<span class="stringliteral">'index.php'</span>,<span class="stringliteral">''</span>,$scriptPath);
<a name="l00239"></a>00239 
<a name="l00240"></a>00240                 <span class="keywordflow">return</span> str_replace($rootPath,<span class="stringliteral">''</span>,$absPath);
<a name="l00241"></a>00241 
<a name="l00242"></a>00242         }
<a name="l00243"></a>00243 
<a name="l00252"></a><a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#0bf5f59bbf0f75b700889c23a0e28ac1">00252</a>         <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#0bf5f59bbf0f75b700889c23a0e28ac1">getFilledLangMarkers</a>(&amp;$template,$langFile) {
<a name="l00253"></a>00253                 $GLOBALS[<span class="stringliteral">'TSFE'</span>]-&gt;readLLfile($langFile);
<a name="l00254"></a>00254                 $langMarkers = array();
<a name="l00255"></a>00255                 <span class="keywordflow">if</span> ($langFile != <span class="stringliteral">''</span>) {
<a name="l00256"></a>00256                         $aLLMarkerList = array();
<a name="l00257"></a>00257                         preg_match_all(<span class="stringliteral">'/###LLL:.+?###/Ssm'</span>, $template, $aLLMarkerList);
<a name="l00258"></a>00258 
<a name="l00259"></a>00259                         <span class="keywordflow">foreach</span>($aLLMarkerList[0] as $LLMarker){
<a name="l00260"></a>00260                                 $llKey =  substr($LLMarker,7,strlen($LLMarker)-10);
<a name="l00261"></a>00261                                 $marker = $llKey;
<a name="l00262"></a>00262                                 $langMarkers[<span class="stringliteral">'###LLL:'</span>.$marker.<span class="stringliteral">'###'</span>] = trim($GLOBALS[<span class="stringliteral">'TSFE'</span>]-&gt;sL(<span class="stringliteral">'LLL:'</span> . $langFile. <span class="charliteral">':'</span> . $llKey));
<a name="l00263"></a>00263                         }
<a name="l00264"></a>00264                 }
<a name="l00265"></a>00265                 <span class="keywordflow">return</span> $langMarkers;
<a name="l00266"></a>00266         }
<a name="l00267"></a>00267 
<a name="l00275"></a><a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#90b513d04872c0fa1a73cbc4fb9fe6a0">00275</a>         <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#90b513d04872c0fa1a73cbc4fb9fe6a0">getFilledValueMarkers</a>(&amp;$gp) {
<a name="l00276"></a>00276                 <span class="keywordflow">if</span> (isset($gp) &amp;&amp; is_array($gp)) {
<a name="l00277"></a>00277                         <span class="keywordflow">foreach</span>($gp as $k=&gt;$v) {
<a name="l00278"></a>00278                                 <span class="keywordflow">if</span> (!ereg(<span class="stringliteral">'EMAIL_'</span>, $k)) {
<a name="l00279"></a>00279                                         <span class="keywordflow">if</span> (is_array($v)) {
<a name="l00280"></a>00280                                                 $v = implode(<span class="charliteral">','</span>, $v);
<a name="l00281"></a>00281                                         }
<a name="l00282"></a>00282                                         $v = trim($v);
<a name="l00283"></a>00283                                         <span class="keywordflow">if</span> ($v != <span class="stringliteral">""</span>) {
<a name="l00284"></a>00284                                                 <span class="keywordflow">if</span>(get_magic_quotes_gpc()) {
<a name="l00285"></a>00285                                                         $markers[<span class="stringliteral">'###value_'</span>.$k.<span class="stringliteral">'###'</span>] = stripslashes(self::reverse_htmlspecialchars($v));
<a name="l00286"></a>00286                                                 } <span class="keywordflow">else</span> {
<a name="l00287"></a>00287                                                         $markers[<span class="stringliteral">'###value_'</span>.$k.<span class="stringliteral">'###'</span>] = <a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#61e6c994a12043ff0ca9e232fbf5264d">self::reverse_htmlspecialchars</a>($v);
<a name="l00288"></a>00288                                                 }
<a name="l00289"></a>00289                                         } <span class="keywordflow">else</span> {
<a name="l00290"></a>00290                                                 $markers[<span class="stringliteral">'###value_'</span>.$k.<span class="stringliteral">'###'</span>] = <span class="stringliteral">''</span>;
<a name="l00291"></a>00291                                         }
<a name="l00292"></a>00292                                 } <span class="comment">//if end</span>
<a name="l00293"></a>00293                         } <span class="comment">// foreach end</span>
<a name="l00294"></a>00294                 } <span class="comment">// if end</span>
<a name="l00295"></a>00295                 <span class="keywordflow">return</span> $markers;
<a name="l00296"></a>00296         }
<a name="l00297"></a>00297 
<a name="l00306"></a><a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#61e6c994a12043ff0ca9e232fbf5264d">00306</a>         <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#61e6c994a12043ff0ca9e232fbf5264d">reverse_htmlspecialchars</a>($mixed) {
<a name="l00307"></a>00307                 $htmltable = get_html_translation_table(HTML_ENTITIES);
<a name="l00308"></a>00308                 <span class="keywordflow">foreach</span>($htmltable as $key =&gt; $value) {
<a name="l00309"></a>00309                         $mixed = ereg_replace(addslashes($value),$key,$mixed);
<a name="l00310"></a>00310                 }
<a name="l00311"></a>00311                 <span class="keywordflow">return</span> $mixed;
<a name="l00312"></a>00312         }
<a name="l00313"></a>00313 
<a name="l00322"></a><a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#6c4390fe354e595ce963d85b82e5b4a1">00322</a>         <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#6c4390fe354e595ce963d85b82e5b4a1">debugMessage</a>($key) {
<a name="l00323"></a>00323                 session_start();
<a name="l00324"></a>00324                 <span class="keywordflow">if</span>($_SESSION[<span class="stringliteral">'mailformplusplusSettings'</span>][<span class="stringliteral">'debugMode'</span>]) {
<a name="l00325"></a>00325                         $message = <a class="code" href="class_f3___mailform_plus_plus___messages.html#b5d57b9a23f5363bb605ebe4d2cd05e1">F3_MailformPlusPlus_Messages::getDebugMessage</a>($key);
<a name="l00326"></a>00326                         <span class="keywordflow">if</span>(strlen($message) == 0) {
<a name="l00327"></a>00327                                 print $key.<span class="stringliteral">'&lt;br /&gt;'</span>;
<a name="l00328"></a>00328                         } <span class="keywordflow">else</span> {
<a name="l00329"></a>00329                                 <span class="keywordflow">if</span>(func_num_args() &gt; 1) {
<a name="l00330"></a>00330                                         $args = func_get_args();
<a name="l00331"></a>00331                                         array_shift($args);
<a name="l00332"></a>00332                                         $message = vsprintf($message,$args);
<a name="l00333"></a>00333                                 }
<a name="l00334"></a>00334                                 print $message.<span class="stringliteral">'&lt;br /&gt;'</span>;
<a name="l00335"></a>00335                         }
<a name="l00336"></a>00336                 }
<a name="l00337"></a>00337         }
<a name="l00338"></a>00338 
<a name="l00346"></a><a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#ed3867ef7ec7ccc827b48d9ea182f536">00346</a>         <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#ed3867ef7ec7ccc827b48d9ea182f536">throwException</a>($key) {
<a name="l00347"></a>00347                 $message = <a class="code" href="class_f3___mailform_plus_plus___messages.html#0408dc7077f9dca388f3dddc601634f0">F3_MailformPlusPlus_Messages::getExceptionMessage</a>($key);
<a name="l00348"></a>00348                 <span class="keywordflow">if</span>(strlen($message) == 0) {
<a name="l00349"></a>00349                         <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception($key);
<a name="l00350"></a>00350                 } <span class="keywordflow">else</span> {
<a name="l00351"></a>00351                         <span class="keywordflow">if</span>(func_num_args() &gt; 1) {
<a name="l00352"></a>00352                                 $args = func_get_args();
<a name="l00353"></a>00353                                 array_shift($args);
<a name="l00354"></a>00354                                 $message = vsprintf($message,$args);
<a name="l00355"></a>00355                         }
<a name="l00356"></a>00356                         <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception($message);
<a name="l00357"></a>00357                 }
<a name="l00358"></a>00358 
<a name="l00359"></a>00359         }
<a name="l00360"></a>00360 
<a name="l00368"></a><a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#5d5b8659b547a2ef066972c75f078023">00368</a>         <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#5d5b8659b547a2ef066972c75f078023">debugArray</a>($arr) {
<a name="l00369"></a>00369                 <span class="keywordflow">if</span>(!is_array($arr)) {
<a name="l00370"></a>00370                         <span class="keywordflow">return</span>;
<a name="l00371"></a>00371                 }
<a name="l00372"></a>00372                 $fields = array();
<a name="l00373"></a>00373                 <span class="keywordflow">foreach</span>($arr as $key=&gt;$value) {
<a name="l00374"></a>00374                         <span class="keywordflow">if</span>(is_array($value)) {
<a name="l00375"></a>00375                                 $value = implode(<span class="stringliteral">","</span>,$value);
<a name="l00376"></a>00376                         }
<a name="l00377"></a>00377                         array_push($fields,$key.<span class="stringliteral">"="</span>.$value);
<a name="l00378"></a>00378                 }
<a name="l00379"></a>00379                 print implode(<span class="stringliteral">"&lt;br /&gt;"</span>,$fields);
<a name="l00380"></a>00380         }
<a name="l00381"></a>00381 
<a name="l00382"></a>00382 
<a name="l00383"></a>00383 
<a name="l00391"></a><a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#19adfbc63fb502fba2783207643a092f">00391</a>         <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#19adfbc63fb502fba2783207643a092f">removeUnfilledMarkers</a>($content) {
<a name="l00392"></a>00392                 <span class="keywordflow">return</span> preg_replace(<span class="stringliteral">'/###.*?###/'</span>, <span class="stringliteral">''</span>, $content);
<a name="l00393"></a>00393         }
<a name="l00394"></a>00394 
<a name="l00402"></a><a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#5ad4a5a88b724e0ac77556ee9f783795">00402</a>         <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#5ad4a5a88b724e0ac77556ee9f783795">resolvePath</a>($path) {
<a name="l00403"></a>00403                 $path = explode(<span class="stringliteral">"/"</span>,$path);
<a name="l00404"></a>00404                 <span class="keywordflow">if</span>(strpos($path[0],<span class="stringliteral">"EXT"</span>) &gt; -1) {
<a name="l00405"></a>00405                         $parts = explode(<span class="stringliteral">":"</span>,$path[0]);
<a name="l00406"></a>00406                         $path[0] = t3lib_extMgm::extPath($parts[1]);
<a name="l00407"></a>00407                 }
<a name="l00408"></a>00408                 $path = implode(<span class="stringliteral">"/"</span>,$path);
<a name="l00409"></a>00409                 $path = str_replace(<span class="stringliteral">"//"</span>,<span class="stringliteral">"/"</span>,$path);
<a name="l00410"></a>00410                 <span class="keywordflow">return</span> $path;
<a name="l00411"></a>00411         }
<a name="l00412"></a>00412 
<a name="l00420"></a><a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#be9f039b80e192fc3c4958b928912b5f">00420</a>         <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#be9f039b80e192fc3c4958b928912b5f">resolveRelPath</a>($path) {
<a name="l00421"></a>00421                 $path = explode(<span class="stringliteral">"/"</span>,$path);
<a name="l00422"></a>00422                 <span class="keywordflow">if</span>(strpos($path[0],<span class="stringliteral">"EXT"</span>) &gt; -1) {
<a name="l00423"></a>00423                         $parts = explode(<span class="stringliteral">":"</span>,$path[0]);
<a name="l00424"></a>00424                         $path[0] = t3lib_extMgm::extRelPath($parts[1]);
<a name="l00425"></a>00425                 }
<a name="l00426"></a>00426                 $path = implode(<span class="stringliteral">"/"</span>,$path);
<a name="l00427"></a>00427                 $path = str_replace(<span class="stringliteral">"//"</span>,<span class="stringliteral">"/"</span>,$path);
<a name="l00428"></a>00428                 <span class="keywordflow">return</span> $path;
<a name="l00429"></a>00429         }
<a name="l00430"></a>00430 
<a name="l00438"></a><a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#2a7f8a70da57a5e1c0c285f13b9d4800">00438</a>         <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_f3___mailform_plus_plus___static_funcs.html#2a7f8a70da57a5e1c0c285f13b9d4800">resolveRelPathFromSiteRoot</a>($path) {
<a name="l00439"></a>00439                 $path = explode(<span class="stringliteral">"/"</span>,$path);
<a name="l00440"></a>00440                 <span class="keywordflow">if</span>(strpos($path[0],<span class="stringliteral">"EXT"</span>) &gt; -1) {
<a name="l00441"></a>00441                         $parts = explode(<span class="stringliteral">":"</span>,$path[0]);
<a name="l00442"></a>00442                         $path[0] = t3lib_extMgm::extRelPath($parts[1]);
<a name="l00443"></a>00443                 }
<a name="l00444"></a>00444                 $path = implode(<span class="stringliteral">"/"</span>,$path);
<a name="l00445"></a>00445                 $path = str_replace(<span class="stringliteral">"//"</span>,<span class="stringliteral">"/"</span>,$path);
<a name="l00446"></a>00446                 $path = str_replace(<span class="stringliteral">"../"</span>,<span class="stringliteral">""</span>,$path);
<a name="l00447"></a>00447                 <span class="keywordflow">return</span> $path;
<a name="l00448"></a>00448         }
<a name="l00449"></a>00449 }
<a name="l00450"></a>00450 
<a name="l00451"></a>00451 ?&gt;
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Apr 6 08:34:57 2009 for MailformPlusPlus by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
